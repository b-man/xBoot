from: https://github.com/dgibson/dtc
commit: e671852042a77b15ec72ca908291c7d647e4fb01
